---
title: è™šå¹»å¼•æ“UE5.7.1
description: 
image: CUCå…‘æ¢ç‚¹2.png
categories:
    - å·¥å…·æŒ‡å—
weight: 1997       # You can add weight to some posts to override the default sorting (date descending)
---



# è™šå¹»å¼•æ“

åæ ‡ç³»ï¼š

![](image-20260120195057581.png)

å•ä½ï¼šå˜ç±³

> ä»DCCè½¯ä»¶å¯¼å…¥UEçš„æ¨¡å‹ï¼Œå¯¼å‡ºè®¾ç½®çš„up axisè¦è®¾ç½®ä¸º**Zå‘ä¸Š**ã€‚æ¯”å¦‚blenderï¼š
>
> ![è¿™é‡Œé»˜è®¤Yå‘ä¸Šï¼Œå› æ”¹æˆZå‘ä¸Š](image-20260120211823850.png)
>
> | å¼•æ“              | åæ ‡ç³»æ‰‹æ€§ | è½´å‘çº¦å®šï¼ˆä¸–ç•Œåæ ‡ï¼‰ |
> | ----------------- | ---------- | -------------------- |
> | **Unity**         | **å·¦æ‰‹ç³»** | **X å³ï¼ŒY ä¸Šï¼ŒZ å‰** |
> | **Unreal Engine** | **å·¦æ‰‹ç³»** | **X å‰ï¼ŒY å³ï¼ŒZ ä¸Š** |

UEå¯¼å‡ºèµ„äº§ï¼š

1.é€‰ä¸­èµ„äº§ï¼Œåœ¨ç»†èŠ‚çª—å£å®šä½åˆ°å†…å®¹æµè§ˆå™¨ã€‚

![](image-20260120214531701.png)

2.åœ¨å†…å®¹æµè§ˆå™¨å³é”®â€”â€”èµ„äº§æ“ä½œâ€”â€”å¯¼å‡º-è¿ç§»

![](image-20260120214645080.png)

![](image-20260120214752173.png)

å—¯ç±»ä¼¼å¯¼å‡ºpakageã€‚

ä¸æ”¾å¿ƒå¼•å…¥çš„èµ„æºï¼š

å³é”®â€”â€”æ›´æ–°é‡å®šå‘å™¨ã€‚

![](image-20260120214926321.png)

å¯ä»¥ä¿®å¤/é¿å…ä¸€äº›è·¯å¾„ä¸¢å¤±çš„é—®é¢˜ã€‚

## Nanite (çº³ç±³çº§æ¨¡å‹)

#### æ¦‚å¿µï¼š

Naniteæ˜¯è™šå¹»å¼•æ“çš„è™šæ‹ŸåŒ–å‡ ä½•ä½“ç³»ç»Ÿï¼Œå®ƒé‡‡ç”¨å…¨æ–°çš„å†…éƒ¨ç½‘æ ¼ä½“æ ¼å¼å’Œæ¸²æŸ“æŠ€æœ¯æ¥æ¸²æŸ“åƒç´ çº§åˆ«çš„ç»†èŠ‚ä»¥åŠæµ·é‡å¯¹è±¡ã€‚

å®ƒå¯ä»¥æ™ºèƒ½åœ°ä»…å¤„ç†ä½ èƒ½å¤Ÿæ„Ÿå—åˆ°çš„ç»†èŠ‚ã€‚ å¦å¤–ï¼ŒNaniteé‡‡ç”¨é«˜åº¦å‹ç¼©çš„æ•°æ®æ ¼å¼ï¼Œå¹¶ä¸”æ”¯æŒå…·æœ‰è‡ªåŠ¨ç»†èŠ‚çº§åˆ«çš„ç»†ç²’åº¦æµé€ã€‚

[è™šå¹»å¼•æ“ä¸­çš„Naniteè™šæ‹Ÿå‡ ä½•ä½“ | è™šå¹»å¼•æ“ 5.7 æ–‡æ¡£ | Epic Developer Community](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/nanite-virtualized-geometry-in-unreal-engine)

#### å¤„ç†ç®€è¿°ï¼š

Nanite **ä¸ç›´æ¥å¤„ç† Mesh / LOD**ï¼Œè€Œæ˜¯ï¼š

- æŠŠæ¨¡å‹ç¦»çº¿åˆ‡åˆ†æˆå¤§é‡ **Cluster**
- æ¯ä¸ª Clusterï¼š
  - ~128 ä¸ªä¸‰è§’å½¢
  - æœ‰åŒ…å›´ç›’ï¼ˆBoundsï¼‰
  - æœ‰è¯¯å·®åº¦é‡ï¼ˆError Metricï¼‰

```
Mesh
 â””â”€ Cluster 0
 â””â”€ Cluster 1
 â””â”€ Cluster 2
```

 æœ¬è´¨ä¸Šæ˜¯ **è¿ç»­ LODï¼ˆContinuous LODï¼‰**ï¼Œä¸æ˜¯ç¦»æ•£ LODã€‚

**æµç¨‹ï¼š**

```
1. CPU æä¾›ç›¸æœº & åœºæ™¯
2. GPU è¿›è¡Œå¯è§æ€§å‰”é™¤ï¼ˆCluster Cullingï¼‰
3. GPU é€‰æ‹©åˆé€‚ç²¾åº¦çš„ Cluster
4. GPU ç›´æ¥ Rasterize
```

âš ï¸ **LOD é€‰æ‹©ä¸åœ¨ CPU ä¸Š**ã€‚

#### ä½¿ç”¨åœºæ™¯ï¼š

é€‚ç”¨äºé«˜é¢æ•°æ¨¡å‹ã€‚

> é™æ€ / å‡†é™æ€åœºæ™¯
>
> æ‰«ææ¨¡å‹
>
> å»ºç­‘ / åœ°å½¢
>
> é«˜ç»†èŠ‚ç¯å¢ƒ

ä¸é€‚ç”¨äºé¡¶ç‚¹æœ‰åŠ¨æ€å˜åŒ–çš„æ¨¡å‹ã€‚

> éª¨éª¼åŠ¨ç”»ï¼ˆå¤æ‚å˜å½¢ï¼‰
>
> é¡¶ç‚¹åŠ¨ç”»
>
> å¤§é‡ World Position Offset
>
> é€æ˜ç‰©ä½“
>
> é«˜åº¦åŠ¨æ€æ‹“æ‰‘

**Naniteç½‘æ ¼ä½“å’Œä¼ ç»Ÿé™æ€ç½‘æ ¼ä½“çš„ä¸åŒä¹‹å¤„**

> Naniteç½‘æ ¼ä½“æ˜¯ä¸€ç§å¯ç”¨äº†Naniteçš„ç‰¹æ®Šé™æ€ç½‘æ ¼ä½“ã€‚ Naniteç½‘æ ¼ä½“æœ¬è´¨ä¸Šä»æ˜¯ä¸‰è§’å½¢ç½‘æ ¼ä½“ï¼Œä½†å¯¹å…¶æ•°æ®è¿›è¡Œäº†å¤§é‡ç»†èŠ‚å’Œå‹ç¼©å¤„ç†ã€‚ æ­¤å¤–ï¼ŒNaniteä½¿ç”¨äº†ä¸€ç§å…¨æ–°ç³»ç»Ÿï¼Œèƒ½ä»¥æé«˜æ•ˆçš„æ–¹å¼æ¥æ¸²æŸ“è¿™ç§æ•°æ®æ ¼å¼ã€‚
>
> è¦è®©é™æ€ç½‘æ ¼ä½“åˆ©ç”¨Naniteï¼Œåªéœ€ä¸€ä¸ªæ ‡è®°æ¥å¯ç”¨å®ƒå³å¯ã€‚ ç¼–è¾‘Naniteç½‘æ ¼ä½“çš„å†…å®¹å’Œä¼ ç»Ÿç½‘æ ¼ä½“æ²¡å¤ªå¤§ä¸åŒï¼ŒåŒºåˆ«å°±åœ¨äºç›¸æ¯”ä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•æ¸²æŸ“çš„å‡ ä½•ä½“ï¼ŒNaniteèƒ½å¤Ÿæ¸²æŸ“çš„ä¸‰è§’å½¢å’Œå®ä¾‹è¦å¤šå‡ºæ•°ä¸ªæ•°é‡çº§ã€‚ å°†æ‘„åƒæœºç§»åˆ°è¶³å¤Ÿè¿‘çš„ä½ç½®åï¼ŒNaniteå°±ä¼šç»˜åˆ¶å‡ºå¯¼å…¥çš„åŸå§‹æºä¸‰è§’å½¢ã€‚
>
> Naniteç½‘æ ¼ä½“æ”¯æŒå¤šé‡UVå’Œé¡¶ç‚¹é¢œè‰²ã€‚ æè´¨å¯ä»¥è¢«åˆ†é…ç»™ç½‘æ ¼ä½“çš„ä¸åŒåˆ†æ®µï¼Œå¹¶ä¸”è¿™äº›æè´¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç€è‰²æ¨¡å‹å’ŒåŠ¨æ€æ•ˆæœï¼ˆåœ¨ç€è‰²å™¨ä¸­å®Œæˆï¼‰ã€‚ æè´¨æŒ‡å®šå¯ä»¥åŠ¨æ€åˆ‡æ¢ï¼Œå°±åƒå…¶ä»–é™æ€ç½‘æ ¼ä½“ä¸€æ ·ã€‚Naniteä¹Ÿæ— éœ€ä»»ä½•çƒ˜ç„™æè´¨çš„è¿‡ç¨‹ã€‚
>
> [è™šæ‹Ÿçº¹ç†](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/virtual-texturing-in-unreal-engine)å¹¶éå¿…é¡»ä¸Naniteä¸€èµ·ä½¿ç”¨ï¼Œä½†å¼ºçƒˆå»ºè®®ä½¿ç”¨è™šæ‹Ÿçº¹ç†ã€‚ è™šæ‹Ÿçº¹ç†æ˜¯æ­£äº¤è™šå¹»å¼•æ“åŠŸèƒ½ï¼Œå®ƒä¸çº¹ç†æ•°æ®çš„å…³ç³»ç±»ä¼¼äºNaniteä¸ç½‘æ ¼ä½“æ•°æ®çš„å…³ç³»ã€‚



## VT(è™šæ‹Ÿçº¹ç†)

**ç®€è¿°ï¼š**

> **Virtual Textureï¼ˆVTï¼‰æ˜¯ä¸€ç§â€œæŒ‰éœ€ã€åˆ†é¡µã€GPU é©±åŠ¨â€çš„çº¹ç†ç®¡ç†ç³»ç»Ÿ**
>  å®ƒè®©ä½ å¯ä»¥ä½¿ç”¨**è¿œå¤§äºæ˜¾å­˜å®¹é‡çš„çº¹ç†æ•°æ®**ï¼Œè€Œä¸éœ€è¦ä¸€æ¬¡æ€§åŠ è½½æ•´å¼ è´´å›¾ã€‚

ä¸€å¥æ›´ç›´ç™½çš„ï¼š

> **VT = æŠŠçº¹ç†å½“æˆâ€œå†…å­˜é¡µâ€æ¥ç”¨**

[è™šå¹»å¼•æ“ä¸­çš„è™šæ‹Ÿçº¹ç† | è™šå¹»å¼•æ“ 5.7 æ–‡æ¡£ | Epic Developer Community](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/virtual-texturing-in-unreal-engine)

åˆ©ç”¨é¡¹ç›®å¯¹ **è™šæ‹Ÿçº¹ç†** çš„æ”¯æŒï¼Œå¯åœ¨è¿è¡Œæ—¶ä»¥æ›´ä½å†…å­˜å ç”¨ç‡å’Œæ›´é«˜ä¸€è‡´æ€§åˆ›å»ºå’Œä½¿ç”¨å¤§å°ºå¯¸çº¹ç†ã€‚

è™šå¹»å¼•æ“4(UE4)æ”¯æŒä¸¤ç§è™šæ‹Ÿçº¹ç†æ–¹æ³•ï¼š**è¿è¡Œæ—¶è™šæ‹Ÿçº¹ç†** (RVT) å’Œ **æµé€è™šæ‹Ÿçº¹ç†** (SVT)ã€‚

![](image-20260120210143720.png)

| Nanite         | Virtual Texture |
| -------------- | --------------- |
| å‡ ä½•è™šæ‹ŸåŒ–     | çº¹ç†è™šæ‹ŸåŒ–      |
| GPU é©±åŠ¨       | GPU é©±åŠ¨        |
| æŒ‰éœ€åŠ è½½       | æŒ‰éœ€åŠ è½½        |
| Page / Cluster | Page / Tile     |
| è§£å†³è§„æ¨¡é—®é¢˜   | è§£å†³è§„æ¨¡é—®é¢˜    |

**VT è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ**

ä¼ ç»Ÿçº¹ç†ç³»ç»Ÿçš„ä¸‰ä¸ªç¡¬ä¼¤ï¼š

```
1. **æ˜¾å­˜ä¸å¤Ÿ**
   - 8K / 16K / å¤šé€šé“çº¹ç†
2. **é‡å¤æµªè´¹**
   - ç›¸åŒåŒºåŸŸä¸åŒ Mesh é‡å¤åŠ è½½
3. **å¸¦å®½æµªè´¹**
   - çœ‹ä¸åˆ°çš„åŒºåŸŸä¹Ÿåœ¨é‡‡æ ·
```

**VTçš„æ ¸å¿ƒæ€æƒ³**

VT çš„æ€æƒ³éå¸¸ç®€å•ï¼Œä½†å·¥ç¨‹æå…¶å¤æ‚ï¼š

> **åªæŠŠâ€œå½“å‰å±å¹•çœŸæ­£ç”¨åˆ°çš„çº¹ç†å°å—â€æ”¾è¿›æ˜¾å­˜**

**1ï¸âƒ£ Pageï¼ˆé¡µï¼‰â€”â€” VT çš„åŸºæœ¬å•ä½**

ä¸€å¼ å¤§çº¹ç†ä¼šè¢«æ‹†æˆï¼š

```
Pageï¼ˆTileï¼‰ = 128Ã—128 / 256Ã—256 texels
```

ä¾‹å¦‚ï¼š

```
16K Ã— 16K
â†“
4096 ä¸ª Pages
```

------

**2ï¸âƒ£ Virtual Addressï¼ˆè™šæ‹Ÿåœ°å€ï¼‰**

æ¯ä¸ªåƒç´ é‡‡æ ·æ—¶ï¼š

- **ä¸ç›´æ¥è®¿é—®ç‰©ç†çº¹ç†**
- è€Œæ˜¯è®¿é—®ä¸€ä¸ª **è™šæ‹Ÿåœ°å€ï¼ˆVirtual UVï¼‰**

------

**3ï¸âƒ£ Page Tableï¼ˆé¡µè¡¨ï¼‰**

VT ç»´æŠ¤ä¸€å¼ ï¼š

> **Virtual Address â†’ Physical Texture Page**

ç±»ä¼¼ CPU çš„ MMUã€‚

#### å·¥ä½œæµç¨‹

```
1. Pixel Shader é‡‡æ · VT
2. å‘ç°æŸä¸ª Page ä¸åœ¨æ˜¾å­˜
3. è®°å½• Page IDï¼ˆFeedbackï¼‰
4. CPU / GPU è¯·æ±‚åŠ è½½è¯¥ Page
5. ä¸‹ä¸€å¸§ / å‡ å¸§åå¯ç”¨

```

VTå’ŒTexture StreamingåŒºåˆ«

|          | Texture Streaming | Virtual Texture |
| -------- | ----------------- | --------------- |
| ç²’åº¦     | æ•´å¼  Mip          | Page            |
| æ§åˆ¶æ–¹   | CPU               | GPU             |
| ç²¾åº¦     | ç²—                | æç»†            |
| æ˜¾å­˜åˆ©ç”¨ | ä¸€èˆ¬              | æé«˜            |
| å®æ—¶æ€§   | ä½                | é«˜              |

#### ä¸é€‚åˆ VT çš„æƒ…å†µ

- UI
- å°å°ºå¯¸è´´å›¾
- é«˜é¢‘åŠ¨ç”»é‡‡æ ·

## å…³äºsRGB

**ä¸€å¥è¯æ€»ç»“ï¼š**

> ç»™äººçœ‹çš„é¢œè‰² â†’ å‹¾ sRGB
>  ç»™æœºå™¨ç®—çš„æ•°å€¼ â†’ ä¸å‹¾ sRGB

### æ ¸å¿ƒäº‹å®

- æ˜¾ç¤ºå™¨ â‰  çº¿æ€§
- äººçœ¼ â‰  çº¿æ€§
- **sRGB = ä¸€ç§å¸¦ Gamma çš„é¢œè‰²ç¼–ç **

### ç›´è§‚ç†è§£

| æ•°å€¼          | çœŸå®äº®åº¦          |
| ------------- | ----------------- |
| 0.5ï¼ˆsRGBï¼‰   | **ä¸æ˜¯** 50% äº®åº¦ |
| 0.5ï¼ˆLinearï¼‰ | æ˜¯ 50% äº®åº¦       |

ğŸ‘‰ **æ¸²æŸ“è®¡ç®—å¿…é¡»åœ¨çº¿æ€§ç©ºé—´**ï¼Œ
 ğŸ‘‰ **è´´å›¾å­˜å‚¨é€šå¸¸åœ¨ sRGB ç©ºé—´**ã€‚

é¦–å…ˆï¼Œæ¨èçš„å›¾ç‰‡æ ¼å¼æ˜¯TGA>PNGï¼Œå‹ç¼©æŸå¤±ç‡å°ã€‚JPGæŸå¤±çš„æ•°æ®å¤šï¼Œå¦‚æœéœ€è¦æ— æŸå¯¼å…¥ä¸å»ºè®®JPGã€‚

### å¿…é¡»å‹¾ sRGBï¼ˆâ€œé¢œè‰²ç±»â€ï¼‰

| è´´å›¾ç±»å‹            | åŸå›          |
| ------------------- | ------------ |
| Albedo / Base Color | ç»™äººçœ‹çš„é¢œè‰² |
| Diffuse             | åŒä¸Š         |
| Emissive            | å‘å…‰é¢œè‰²     |
| UI / Sprite         | ç›´æ¥æ˜¾ç¤º     |

###  ç»å¯¹ä¸è¦å‹¾ sRGBï¼ˆâ€œæ•°æ®ç±»â€ï¼‰

| è´´å›¾ç±»å‹              | åŸå›          |
| --------------------- | ------------ |
| Normal Map            | æ³•çº¿å‘é‡     |
| Roughness             | æ•°å€¼æ›²çº¿     |
| Metallic              | 0â€“1 å‚æ•°     |
| AO                    | é®è”½å¼ºåº¦     |
| Height / Displacement | å‡ ä½•æ•°æ®     |
| Maskï¼ˆRGBAï¼‰          | ä»»æ„é€šé“æ•°æ® |
| Opacity               | çº¿æ€§æ’å€¼     |

âŒ Normal Map å‹¾äº† sRGB
ç»“æœï¼š
â€¢ æ³•çº¿åè½¯
â€¢ é«˜å…‰å‘ç°
â€¢ ç»†èŠ‚ä¸¢å¤±
âŒ Roughness å‹¾äº† sRGB
ç»“æœï¼š
â€¢ è¡¨é¢â€œæ²¹è…» / å¡‘æ–™æ„Ÿâ€
â€¢ é«˜å…‰èŒƒå›´ä¸å¯¹
âŒ Mask è´´å›¾å‹¾ sRGB
ç»“æœï¼š
â€¢ é˜ˆå€¼ä¸å‡†
â€¢ æè´¨è¡Œä¸ºæ€ªå¼‚

> å¿«æ·é”®Enterèƒ½æ‰“å¼€çº¹ç†çš„ç¼–è¾‘å™¨ã€‚ä¹Ÿå¯ä»¥å¯¹çº¹ç†è´´å›¾å³é”®â€”â€”ç¼–è¾‘ã€‚

æ³¨æ„ï¼šlightmapæ³¨æ„å‹¾é€‰ç°é˜¶ï¼ˆgrayscale G8/16ï¼‰

![](image-20260121213051464.png)

å…¶ä½™ï¼Œ1ï¼‰æ¼«åå°„è´´å›¾ï¼ˆdiffuseï¼‰ï¼› 2ï¼‰Rampå›¾éœ€è¦å‹¾é€‰sRGBã€‚

å…¶ä»–çš„æ³•çº¿/Mask/Metalç­‰ç­‰éƒ½ä¸å¿…å‹¾é€‰sRGBã€‚

![](image-20260121213511000.png)

å‡†å¤‡ä¸Šä¸‹æ–‡ï¼š

æ³¨æ„ï¼Œè¿™ä¸ªtransformvectorèŠ‚ç‚¹ï¼Œåªéœ€è¦æœç´¢Transformå†å›è½¦ï¼ˆæˆ–è€…ä¸‹å›¾ï¼‰å°±å¯ä»¥æ‰¾åˆ°â€¦â€¦

![](image-20260122205240913.png)

![](image-20260122205300316.png)

åœ¨é‡‘å±capçš„æ—¶å€™ï¼Œç›¸æœºç©ºé—´æ˜¯å¯ä»¥ç­‰åŒäºè§‚å¯Ÿç©ºé—´çš„

![image-20260122210022272](image-20260122210022272.png)

æ³¨æ„ï¼šè™šå¹»çš„Vå’Œunityçš„Væ˜¯ç›¸åçš„ã€‚(å³xyzä¸­çš„yæ˜¯ç›¸åçš„ã€‚rgbçš„gæ˜¯ç›¸åçš„ã€‚)

åŸç¥æ³•çº¿è´´å›¾å¯¼å…¥è™šå¹»è®°å¾—ã€ç¿»è½¬ç»¿é€šé“ã€‘

![ç¿»è½¬åï¼ˆå·¦ï¼‰vsç¿»è½¬å‰ï¼ˆå³ï¼‰](image-20260122211248704.png)



## é™„å½•

### MatCap

**MatCapï¼ˆMaterial Captureï¼‰** æ˜¯ä¸€ç§**åŸºäºæ³•çº¿æ–¹å‘çš„è´´å›¾ç€è‰²æŠ€æœ¯**ã€‚
 å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

> **ä¸åšçœŸå®å…‰ç…§è®¡ç®—**ï¼Œè€Œæ˜¯ç”¨â€œè¡¨é¢æ³•çº¿åœ¨è§†ç©ºé—´ä¸­çš„æ–¹å‘â€ä½œä¸ºç´¢å¼•ï¼Œä»ä¸€å¼  **2D çº¹ç†** ä¸­ç›´æ¥æŸ¥è¡¨å¾—åˆ°æœ€ç»ˆé¢œè‰²ã€‚

ä½ å¯ä»¥æŠŠ MatCap ç†è§£ä¸ºï¼š

- æŠŠä¸€ä¸ªâ€œå·²ç»ç®—å¥½å…‰ç…§æ•ˆæœçš„çƒä½“â€æ‹æˆä¸€å¼ å›¾
- åœ¨æ¸²æŸ“æ—¶ï¼Œæ¯ä¸ªåƒç´ æ ¹æ®è‡ªèº«æ³•çº¿ï¼Œå»è¿™å¼ å›¾ä¸Šâ€œå–ä¸€ä¸ªé¢œè‰²â€

å› æ­¤ MatCap **ä¸ä¾èµ–ç¯å…‰ã€ä¸éœ€è¦ BRDFã€ä¸éœ€è¦å…‰æºéå†**ï¼Œæˆæœ¬æä½ã€‚

### 1. æ ¸å¿ƒè¾“å…¥ï¼š**è§†ç©ºé—´æ³•çº¿ï¼ˆView Space Normalï¼‰**

MatCap ä½¿ç”¨çš„ä¸æ˜¯ï¼š

- ä¸–ç•Œç©ºé—´æ³•çº¿
- åˆ‡çº¿ç©ºé—´æ³•çº¿

è€Œæ˜¯ï¼š

> **è§†ç©ºé—´ï¼ˆView Space / Camera Spaceï¼‰ä¸­çš„æ³•çº¿**

åŸå› å¾ˆç®€å•ï¼š
 MatCap çº¹ç†æœ¬èº«å°±æ˜¯ä»¥â€œç›¸æœºè§†è§’â€ä¸ºåŸºå‡†çƒ˜ç„™çš„ã€‚

------

### 2. ä»æ³•çº¿åˆ° UV çš„æ˜ å°„

å‡è®¾ä½ å·²ç»æœ‰ä¸€ä¸ª **å•ä½åŒ–çš„è§†ç©ºé—´æ³•çº¿**ï¼š

```
N_view = (nx, ny, nz)
```

å…¸å‹ MatCap UV è®¡ç®—æ–¹å¼ï¼š

```
UV = N_view.xy * 0.5 + 0.5
```

å«ä¹‰ï¼š

- `N.xy âˆˆ [-1, 1]`
- æ˜ å°„åˆ°çº¹ç†åæ ‡ `[0, 1]`

> `nz` é€šå¸¸éšå«åœ¨ MatCap è´´å›¾çš„äº®æš—å˜åŒ–ä¸­ï¼Œä¸ç›´æ¥å‚ä¸é‡‡æ ·ã€‚

å®Œæ•´é“¾è·¯

```
Normal Mapï¼ˆTangentï¼‰
   â†“ TBN
Normalï¼ˆWorldï¼‰
   â†“ ViewMatrix
Normalï¼ˆViewï¼‰
   â†“
UV = normal.xy * 0.5 + 0.5
   â†“
Sample MatCap Texture
```

**MatCap æ˜¯â€œå‡å…‰ç…§â€ï¼Œä½†â€œçœ‹èµ·æ¥å¾ˆåƒçœŸå…‰ç…§â€**ã€‚